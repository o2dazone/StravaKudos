let btn,kudosBtns=[],KUDOS_INTERVAL=1e3,KUDOS_LOCKOUT=100,d=document,els=".activity button.js-add-kudo, .group-activity button.js-add-kudo";function init(){const t=d.createElement("style");t.innerHTML="#stravaKudos{display:flex;flex-direction:column;left:5px;font-size:20px;box-shadow:0 2px 1px rgba(0,0,0,0.2);z-index:49;position:fixed;top:61px}#stravaKudos div{margin:0 auto}#stravaKudos p{margin:0;font-size:14px}#stravaKudos.hidden,#stravaKudos.lockout p{display:none !important;visibility:hidden !important}#stravaKudosCount{margin:0 3px;font-weight:bold}",d.head.prepend(t),btn=d.createElement("button"),btn.id="stravaKudos",btn.innerHTML='\n    <div>Give <span id="skCount"></span> Kudos</div>\n    <p>Strava may throttle too<br/>many Kudos in one session</p>\n  ',btn.className="btn btn-sm btn-primary hidden",btn.addEventListener("click",giveKudos),d.body.prepend(btn),updateCountNum()}function giveKudos(){setTimeout((()=>{const t=d.querySelector(els);t&&(t.click(),giveKudos())}),KUDOS_INTERVAL)}function toggleKudosBox(){const t=kudosBtns.length;t?(btn.classList.remove("hidden"),t<KUDOS_LOCKOUT?btn.classList.add("lockout"):btn.classList.remove("lockout")):btn.classList.add("hidden")}function updateCountNum(){const t=d.getElementById("skCount");t&&setInterval((()=>{kudosBtns=d.querySelectorAll(els),t.innerHTML=kudosBtns.length,toggleKudosBox()}),KUDOS_INTERVAL)}init();
